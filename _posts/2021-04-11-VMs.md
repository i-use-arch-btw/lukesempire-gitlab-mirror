---
layout: article
title: Linux, macOS, and Windows running  simultaneously on a 1st generation Core i5 and 8GB RAM
date: 2021-04-11
---
#### Wow. 3rd on Hacker News and 11000 views! Thanks!
![macOS Mojave, Windows 10, and Arch Linux with XFCE showing their About dialogs](/uploads/vm/sysinfo-fs8.png)

This is my main computer, a Thinkpad T410 with a 1st generation Intel Core i5 and 8 GB of RAM. It runs Arch Linux with Xfce.

The macOS Mojave (chosen over Catalina or Big Sur for it's lower resource usage) VM works surprisingly well with 3GB RAM, but even when the Windows VM was allocated that much, it was very sluggish. 

The Windows installation was very easy. All you have to do is [download the ISO from Microsoft](https://www.microsoft.com/en-us/software-download/windows10ISO), [import into Boxes](https://help.gnome.org/users/gnome-boxes/stable/create.html.en) and fill in your username, password, and product key in the "Express Installation" feature of Gnome Boxes.

For macOS, you can use the [excellent scripts by foxlet](https://github.com/foxlet/macOS-Simple-KVM) to automatically download the image from Apple and provision a QEMU virtual machine. The installation will take some time. Once you have installed macOS using the onscreen menus, you need to select the fourth option in the Clover Bootloader, `Boot macOS from x.` The first option will boot the install media again. I didn't take screenshots of the install process. (This is not technically allowed per the EULA, but as long as you're not [making money,](https://en.wikipedia.org/wiki/Psystar_Corporation) you should be fine.)



![Neofetch on all systems](/uploads/vm/neofetch-fs8.png)
Neofetch

![This website on all systems](/uploads/vm/lukesempire-fs8.png)
My Website

![htop on the physical machine](/uploads/vm/htop-fs8.png)
htop on the physical machine

## Detailed installation

1. Install a Linux distribution of your choice.
2. Install the required software.
- qemu
- python3
- pip
- enable kvm modules

Here are some examples:
```
sudo apt-get install qemu-system qemu-utils python3 python3-pip  # for Ubuntu, Debian, Mint, and PopOS.
sudo pacman -S qemu python python-pip python-wheel  # for Arch.
sudo xbps-install -Su qemu python3 python3-pip   # for Void Linux.
sudo zypper in qemu-tools qemu-kvm qemu-x86 qemu-audio-pa python3-pip  # for openSUSE Tumbleweed
sudo dnf install qemu qemu-img python3 python3-pip # for Fedora
sudo emerge -a qemu python:3.4 pip # for Gentoo
